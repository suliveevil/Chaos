/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/header_bar.ts
var HeaderBar = class {
  constructor(parent) {
    this.onSearchBarEnterListener = new Array();
    parent.addClass("web-browser-header-bar");
    parent.removeChild(parent.children[1]);
    this.searchBar = document.createElement("input");
    this.searchBar.type = "text";
    this.searchBar.placeholder = "Search with DuckDuckGo or enter address";
    this.searchBar.addClass("web-browser-search-bar");
    parent.appendChild(this.searchBar);
    this.searchBar.addEventListener("keydown", (event) => {
      if (!event) {
        var event = window.event;
      }
      if (event.key === "Enter") {
        for (var listener of this.onSearchBarEnterListener) {
          listener(this.searchBar.value);
        }
      }
    }, false);
  }
  addOnSearchBarEnterListener(listener) {
    this.onSearchBarEnterListener.push(listener);
  }
  setSearchBarUrl(url) {
    this.searchBar.value = url;
  }
};

// src/web_browser_view.ts
var import_obsidian = require("obsidian");
var WEB_BROWSER_VIEW_ID = "web-browser-view";
var WebBrowserView = class extends import_obsidian.ItemView {
  constructor() {
    super(...arguments);
    this.currentTitle = "New tab";
  }
  static spawnWebBrowserView(newLeaf, state) {
    app.workspace.getLeaf(newLeaf).setViewState({ type: WEB_BROWSER_VIEW_ID, active: true, state });
  }
  getDisplayText() {
    return this.currentTitle;
  }
  getViewType() {
    return WEB_BROWSER_VIEW_ID;
  }
  async onOpen() {
    this.navigation = true;
    this.contentEl.empty();
    this.headerBar = new HeaderBar(this.headerEl.children[2]);
    this.favicon = document.createElement("img");
    this.favicon.width = 16;
    this.favicon.height = 16;
    this.frame = document.createElement("webview");
    this.frame.setAttribute("allowpopups", "");
    this.frame.addClass("web-browser-frame");
    this.contentEl.addClass("web-browser-view-content");
    this.contentEl.appendChild(this.frame);
    this.headerBar.addOnSearchBarEnterListener((url) => {
      this.navigate(url);
    });
    this.frame.addEventListener("dom-ready", (event) => {
      const { remote } = require("electron");
      remote.webContents.fromId(this.frame.getWebContentsId()).setWindowOpenHandler((event2) => {
        WebBrowserView.spawnWebBrowserView(true, { url: event2.url });
      });
    });
    this.frame.addEventListener("page-favicon-updated", (event) => {
      this.favicon.src = event.favicons[0];
      this.leaf.tabHeaderInnerIconEl.empty();
      this.leaf.tabHeaderInnerIconEl.appendChild(this.favicon);
    });
    this.frame.addEventListener("page-title-updated", (event) => {
      this.leaf.tabHeaderInnerTitleEl.innerText = event.title;
      this.currentTitle = event.title;
    });
    this.frame.addEventListener("will-navigate", (event) => {
      this.navigate(event.url, true, false);
    });
    this.frame.addEventListener("did-navigate-in-page", (event) => {
      this.navigate(event.url, true, false);
    });
    this.frame.addEventListener("new-window", (event) => {
      console.log("Trying to open new window at url: " + event.url);
      event.preventDefault();
    });
  }
  async setState(state, result) {
    this.navigate(state.url, false);
  }
  getState() {
    return { url: this.currentUrl };
  }
  navigate(url, addToHistory = true, updateWebView = true) {
    var _a, _b, _c;
    if (url === "") {
      return;
    }
    if (addToHistory) {
      if (((_c = (_b = (_a = this.leaf.history.backHistory.last()) == null ? void 0 : _a.state) == null ? void 0 : _b.state) == null ? void 0 : _c.url) !== this.currentUrl) {
        this.leaf.history.backHistory.push({
          state: {
            type: WEB_BROWSER_VIEW_ID,
            state: this.getState()
          },
          title: this.currentTitle,
          icon: "search"
        });
        this.headerEl.children[1].children[0].setAttribute("aria-disabled", "false");
      }
    }
    var urlRegEx = /[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi;
    if (urlRegEx.test(url)) {
      let first7 = url.slice(0, 7).toLowerCase();
      let first8 = url.slice(0, 8).toLowerCase();
      if (!(first7 === "http://" || first7 === "file://" || first8 === "https://")) {
        url = "https://" + url;
      }
    } else {
      url = "https://duckduckgo.com/?q=" + url;
    }
    this.currentUrl = url;
    this.headerBar.setSearchBarUrl(url);
    if (updateWebView) {
      this.frame.setAttribute("src", url);
    }
    app.workspace.requestSaveLayout();
  }
};

// src/hooks.ts
var FunctionHooks = class {
  static onload() {
    FunctionHooks.ogWindow$Open = window.open;
    window.open = (url, target, features) => {
      let urlString = "";
      if (typeof url === "string") {
        urlString = url;
      } else if (url instanceof URL) {
        urlString = url.toString();
      }
      if (urlString === "about:blank" && features) {
        return FunctionHooks.ogWindow$Open.call(window, url, target, features);
      }
      WebBrowserView.spawnWebBrowserView(true, { url: urlString });
      return null;
    };
  }
  static onunload() {
    window.open = FunctionHooks.ogWindow$Open;
  }
};

// src/main.ts
var MyPlugin = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(WEB_BROWSER_VIEW_ID, (leaf) => new WebBrowserView(leaf));
    FunctionHooks.onload();
    this.onLayoutChangeEventRef = this.app.workspace.on("layout-change", () => {
      var activeView = this.app.workspace.getActiveViewOfType(import_obsidian2.ItemView);
      if (activeView) {
        if (activeView.contentEl.children[0].hasClass("empty-state")) {
          if (!activeView.headerEl.children[2].hasClass("web-browser-header-bar")) {
            var headerBar = new HeaderBar(activeView.headerEl.children[2]);
            headerBar.addOnSearchBarEnterListener((url) => {
              WebBrowserView.spawnWebBrowserView(false, { url });
            });
          }
        }
      }
    });
  }
  onunload() {
    var _a;
    this.app.workspace.detachLeavesOfType(WEB_BROWSER_VIEW_ID);
    FunctionHooks.onunload();
    this.app.workspace.offref(this.onLayoutChangeEventRef);
    var searchBars = document.getElementsByClassName("web-browser-search-bar");
    while (searchBars.length > 0) {
      (_a = searchBars[0].parentElement) == null ? void 0 : _a.removeChild(searchBars[0]);
    }
  }
  async loadSettings() {
  }
  async saveSettings() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2hlYWRlcl9iYXIudHMiLCAic3JjL3dlYl9icm93c2VyX3ZpZXcudHMiLCAic3JjL2hvb2tzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBFdmVudFJlZiwgSXRlbVZpZXcsIFBsdWdpbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgSGVhZGVyQmFyIH0gZnJvbSBcIi4vaGVhZGVyX2JhclwiO1xuaW1wb3J0IHsgRnVuY3Rpb25Ib29rcyB9IGZyb20gXCIuL2hvb2tzXCI7XG5pbXBvcnQgeyBXZWJCcm93c2VyVmlldywgV0VCX0JST1dTRVJfVklFV19JRCB9IGZyb20gXCIuL3dlYl9icm93c2VyX3ZpZXdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRwcml2YXRlIG9uTGF5b3V0Q2hhbmdlRXZlbnRSZWY6IEV2ZW50UmVmO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoV0VCX0JST1dTRVJfVklFV19JRCwgKGxlYWYpID0+IG5ldyBXZWJCcm93c2VyVmlldyhsZWFmKSk7XG5cblx0XHRGdW5jdGlvbkhvb2tzLm9ubG9hZCgpO1xuXG5cdFx0Ly8gQWRkIGhlYWRlciBiYXIgdG8gXCJOZXcgdGFiXCIgdmlldy5cblx0XHR0aGlzLm9uTGF5b3V0Q2hhbmdlRXZlbnRSZWYgPSB0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJsYXlvdXQtY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdHZhciBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoSXRlbVZpZXcpO1xuXHRcdFx0aWYgKGFjdGl2ZVZpZXcpIHtcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYSBcIk5ldyB0YWJcIiB2aWV3LiBJIGRvbid0IHRoaW5rIHRoaXMgY2xhc3MgaXMgdXNlZCBlbHNld2hlcmUuIEkgc3VyZSBob3BlIG5vdC5cblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuY29udGVudEVsLmNoaWxkcmVuWzBdLmhhc0NsYXNzKFwiZW1wdHktc3RhdGVcIikpIHtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgXCJOZXcgdGFiXCIgdmlldyBoYXMgYWxyZWFkeSBiZWVuIHByb2Nlc3NlZCBhbmQgaGFzIGEgaGVhZGVyIGJhciBhbHJlYWR5LlxuXHRcdFx0XHRcdGlmICghYWN0aXZlVmlldy5oZWFkZXJFbC5jaGlsZHJlblsyXS5oYXNDbGFzcyhcIndlYi1icm93c2VyLWhlYWRlci1iYXJcIikpIHtcblx0XHRcdFx0XHRcdHZhciBoZWFkZXJCYXIgPSBuZXcgSGVhZGVyQmFyKGFjdGl2ZVZpZXcuaGVhZGVyRWwuY2hpbGRyZW5bMl0pO1xuXHRcdFx0XHRcdFx0aGVhZGVyQmFyLmFkZE9uU2VhcmNoQmFyRW50ZXJMaXN0ZW5lcigodXJsOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdFx0V2ViQnJvd3NlclZpZXcuc3Bhd25XZWJCcm93c2VyVmlldyhmYWxzZSwgeyB1cmwgfSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoV0VCX0JST1dTRVJfVklFV19JRCk7XG5cdFx0RnVuY3Rpb25Ib29rcy5vbnVubG9hZCgpO1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vZmZyZWYodGhpcy5vbkxheW91dENoYW5nZUV2ZW50UmVmKTtcblxuXHRcdC8vIENsZWFuIHVwIGhlYWRlciBiYXIgYWRkZWQgdG8gXCJOZXcgdGFiXCIgdmlld3Mgd2hlbiBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dmFyIHNlYXJjaEJhcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwid2ViLWJyb3dzZXItc2VhcmNoLWJhclwiKTtcblx0XHR3aGlsZSAoc2VhcmNoQmFycy5sZW5ndGggPiAwKSB7XG5cdFx0XHRzZWFyY2hCYXJzWzBdLnBhcmVudEVsZW1lbnQ/LnJlbW92ZUNoaWxkKHNlYXJjaEJhcnNbMF0pO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0fVxufVxuIiwgImV4cG9ydCBjbGFzcyBIZWFkZXJCYXIge1xuICAgIHByaXZhdGUgc2VhcmNoQmFyOiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHByaXZhdGUgb25TZWFyY2hCYXJFbnRlckxpc3RlbmVyID0gbmV3IEFycmF5PCh1cmw6IHN0cmluZykgPT4gdm9pZD47XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEVsZW1lbnQpIHtcbiAgICAgICAgLy8gQ1NTIGNsYXNzIHJlbW92ZXMgdGhlIGdyYWRpZW50IGF0IHRoZSByaWdodCBvZiB0aGUgaGVhZGVyIGJhci5cbiAgICAgICAgcGFyZW50LmFkZENsYXNzKFwid2ViLWJyb3dzZXItaGVhZGVyLWJhclwiKTtcbiAgICAgICAgLy8gUmVtb3ZlIGRlZmF1bHQgdGl0bGUgZnJvbSBoZWFkZXIgYmFyLlxuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmNoaWxkcmVuWzFdKTtcblxuICAgICAgICAvLyBDcmVhdGUgc2VhcmNoIGJhciBpbiBoZWFkZXIgYmFyLlxuICAgICAgICB0aGlzLnNlYXJjaEJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgdGhpcy5zZWFyY2hCYXIudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICB0aGlzLnNlYXJjaEJhci5wbGFjZWhvbGRlciA9IFwiU2VhcmNoIHdpdGggRHVja0R1Y2tHbyBvciBlbnRlciBhZGRyZXNzXCJcbiAgICAgICAgdGhpcy5zZWFyY2hCYXIuYWRkQ2xhc3MoXCJ3ZWItYnJvd3Nlci1zZWFyY2gtYmFyXCIpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5zZWFyY2hCYXIpO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudCkgeyB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQgYXMgS2V5Ym9hcmRFdmVudDsgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGlzdGVuZXIgb2YgdGhpcy5vblNlYXJjaEJhckVudGVyTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5zZWFyY2hCYXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGFkZE9uU2VhcmNoQmFyRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcjogKHVybDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMub25TZWFyY2hCYXJFbnRlckxpc3RlbmVyLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHNldFNlYXJjaEJhclVybCh1cmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaEJhci52YWx1ZSA9IHVybDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFZpZXdTdGF0ZVJlc3VsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgSGVhZGVyQmFyIH0gZnJvbSBcIi4vaGVhZGVyX2JhclwiO1xuXG5leHBvcnQgY29uc3QgV0VCX0JST1dTRVJfVklFV19JRCA9IFwid2ViLWJyb3dzZXItdmlld1wiO1xuXG5leHBvcnQgY2xhc3MgV2ViQnJvd3NlclZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gICAgcHJpdmF0ZSBjdXJyZW50VXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBjdXJyZW50VGl0bGU6IHN0cmluZyA9IFwiTmV3IHRhYlwiO1xuXG4gICAgcHJpdmF0ZSBoZWFkZXJCYXI6IEhlYWRlckJhcjtcbiAgICBwcml2YXRlIGZhdmljb246IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQ7XG5cbiAgICBzdGF0aWMgc3Bhd25XZWJCcm93c2VyVmlldyhuZXdMZWFmOiBib29sZWFuLCBzdGF0ZTogV2ViQnJvd3NlclZpZXdTdGF0ZSkge1xuICAgICAgICBhcHAud29ya3NwYWNlLmdldExlYWYobmV3TGVhZikuc2V0Vmlld1N0YXRlKHsgdHlwZTogV0VCX0JST1dTRVJfVklFV19JRCwgYWN0aXZlOiB0cnVlLCBzdGF0ZSB9KTtcbiAgICB9XG5cbiAgICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGl0bGU7XG4gICAgfVxuXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFdFQl9CUk9XU0VSX1ZJRVdfSUQ7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICAvLyBBbGxvdyB2aWV3cyB0byByZXBsYWNlIHRoaXMgdmlld3MuXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICAvLyBDcmVhdGUgc2VhcmNoIGJhciBpbiB0aGUgaGVhZGVyIGJhci5cbiAgICAgICAgdGhpcy5oZWFkZXJCYXIgPSBuZXcgSGVhZGVyQmFyKHRoaXMuaGVhZGVyRWwuY2hpbGRyZW5bMl0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBmYXZpY29uIGltYWdlIGVsZW1lbnQuXG4gICAgICAgIHRoaXMuZmF2aWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICAgICAgdGhpcy5mYXZpY29uLndpZHRoID0gMTY7XG4gICAgICAgIHRoaXMuZmF2aWNvbi5oZWlnaHQgPSAxNjtcblxuICAgICAgICAvLyBDcmVhdGUgbWFpbiB3ZWIgdmlldyBmcmFtZSB0aGF0IGRpc3BsYXlzIHRoZSB3ZWJzaXRlLlxuICAgICAgICB0aGlzLmZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIndlYnZpZXdcIikgYXMgSFRNTElGcmFtZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dwb3B1cHNcIiwgXCJcIik7XG4gICAgICAgIC8vIENTUyBjbGFzc2VzIG1ha2VzIGZyYW1lIGZpbGwgdGhlIGVudGlyZSB0YWIncyBjb250ZW50IHNwYWNlLlxuICAgICAgICB0aGlzLmZyYW1lLmFkZENsYXNzKFwid2ViLWJyb3dzZXItZnJhbWVcIik7XG4gICAgICAgIHRoaXMuY29udGVudEVsLmFkZENsYXNzKFwid2ViLWJyb3dzZXItdmlldy1jb250ZW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTtcblxuICAgICAgICB0aGlzLmhlYWRlckJhci5hZGRPblNlYXJjaEJhckVudGVyTGlzdGVuZXIoKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImRvbS1yZWFkeVwiLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyByZW1vdGUgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJlbW90ZS53ZWJDb250ZW50cy5mcm9tSWQodGhpcy5mcmFtZS5nZXRXZWJDb250ZW50c0lkKCkpLnNldFdpbmRvd09wZW5IYW5kbGVyKChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgV2ViQnJvd3NlclZpZXcuc3Bhd25XZWJCcm93c2VyVmlldyh0cnVlLCB7IHVybDogZXZlbnQudXJsIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2UtZmF2aWNvbi11cGRhdGVkXCIsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZhdmljb24uc3JjID0gZXZlbnQuZmF2aWNvbnNbMF07XG4gICAgICAgICAgICB0aGlzLmxlYWYudGFiSGVhZGVySW5uZXJJY29uRWwuZW1wdHkoKTtcbiAgICAgICAgICAgIHRoaXMubGVhZi50YWJIZWFkZXJJbm5lckljb25FbC5hcHBlbmRDaGlsZCh0aGlzLmZhdmljb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlLXRpdGxlLXVwZGF0ZWRcIiwgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJUZXh0ID0gZXZlbnQudGl0bGU7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaXRsZSA9IGV2ZW50LnRpdGxlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aWxsLW5hdmlnYXRlXCIsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlKGV2ZW50LnVybCwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWQtbmF2aWdhdGUtaW4tcGFnZVwiLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZShldmVudC51cmwsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5mcmFtZS5hZGRFdmVudExpc3RlbmVyKFwibmV3LXdpbmRvd1wiLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gb3BlbiBuZXcgd2luZG93IGF0IHVybDogXCIgKyBldmVudC51cmwpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0U3RhdGUoc3RhdGU6IFdlYkJyb3dzZXJWaWV3U3RhdGUsIHJlc3VsdDogVmlld1N0YXRlUmVzdWx0KSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGUoc3RhdGUudXJsLCBmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIGdldFN0YXRlKCk6IFdlYkJyb3dzZXJWaWV3U3RhdGUge1xuICAgICAgICByZXR1cm4geyB1cmw6IHRoaXMuY3VycmVudFVybCB9O1xuICAgIH1cblxuICAgIG5hdmlnYXRlKHVybDogc3RyaW5nLCBhZGRUb0hpc3Rvcnk6IGJvb2xlYW4gPSB0cnVlLCB1cGRhdGVXZWJWaWV3OiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAodXJsID09PSBcIlwiKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChhZGRUb0hpc3RvcnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlYWYuaGlzdG9yeS5iYWNrSGlzdG9yeS5sYXN0KCk/LnN0YXRlPy5zdGF0ZT8udXJsICE9PSB0aGlzLmN1cnJlbnRVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlYWYuaGlzdG9yeS5iYWNrSGlzdG9yeS5wdXNoKHsgXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBXRUJfQlJPV1NFUl9WSUVXX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5jdXJyZW50VGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGljb246IFwic2VhcmNoXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBFbmFibGUgdGhlIGFycm93IGhpZ2hsaWdodCBvbiB0aGUgYmFjayBhcnJvdyBiZWNhdXNlIHRoZXJlJ3Mgbm93IGJhY2sgaGlzdG9yeS5cbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlckVsLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1cmxSZWdFeCA9IC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV17MiwyNTZ9XFwuW2Etel17Miw0fVxcYihcXC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV0qKT8vZ2k7XG4gICAgICAgIGlmICh1cmxSZWdFeC50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIGxldCBmaXJzdDcgPSB1cmwuc2xpY2UoMCwgNykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGxldCBmaXJzdDggPSB1cmwuc2xpY2UoMCwgOCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghKGZpcnN0NyA9PT0gXCJodHRwOi8vXCIgfHwgZmlyc3Q3ID09PSBcImZpbGU6Ly9cIiB8fCBmaXJzdDggPT09IFwiaHR0cHM6Ly9cIikpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBTdXBwb3J0IG90aGVyIHNlYXJjaCBlbmdpbmVzLlxuICAgICAgICAgICAgdXJsID0gXCJodHRwczovL2R1Y2tkdWNrZ28uY29tLz9xPVwiICsgdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlckJhci5zZXRTZWFyY2hCYXJVcmwodXJsKTtcbiAgICAgICAgaWYgKHVwZGF0ZVdlYlZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xuICAgIH1cbn1cblxuY2xhc3MgV2ViQnJvd3NlclZpZXdTdGF0ZSB7XG4gICAgdXJsOiBzdHJpbmc7XG59XG4iLCAiaW1wb3J0IHsgV2ViQnJvd3NlclZpZXcgfSBmcm9tIFwiLi93ZWJfYnJvd3Nlcl92aWV3XCI7XG5cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkhvb2tzIHtcbiAgICBwcml2YXRlIHN0YXRpYyBvZ1dpbmRvdyRPcGVuOiAodXJsPzogc3RyaW5nIHwgVVJMLCB0YXJnZXQ/OiBzdHJpbmcsIGZlYXR1cmVzPzogc3RyaW5nKSA9PiBXaW5kb3dQcm94eSB8IG51bGw7XG5cbiAgICBzdGF0aWMgb25sb2FkKCkge1xuICAgICAgICBGdW5jdGlvbkhvb2tzLm9nV2luZG93JE9wZW4gPSB3aW5kb3cub3BlbjtcbiAgICAgICAgd2luZG93Lm9wZW4gPSAodXJsPzogc3RyaW5nIHwgVVJMLCB0YXJnZXQ/OiBzdHJpbmcsIGZlYXR1cmVzPzogc3RyaW5nKTogV2luZG93UHJveHkgfCBudWxsID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IENyZWF0ZSBzZXR0aW5nIGZvciB3aGV0aGVyIHRvIG9wZW4gZXh0ZXJuYWwgbGlua3Mgb3V0c2lkZSBvZiBPYnNpZGlhbiBvciBub3QuXG4gICAgICAgICAgICAvLyByZXR1cm4gRnVuY3Rpb25Ib29rcy5vZ1dpbmRvdyRPcGVuLmNhbGwod2luZG93LCB1cmwsIHRhcmdldCwgZmVhdHVyZXMpO1xuXG4gICAgICAgICAgICBsZXQgdXJsU3RyaW5nOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB1cmxTdHJpbmcgPSB1cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHVybCBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICAgICAgICAgIHVybFN0cmluZyA9IHVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBPYnNpZGlhbiB3YW50cyB0byBvcGVuIGEgcG9wdXAgd2luZG93LCBsZXQgaXQuXG4gICAgICAgICAgICBpZiAodXJsU3RyaW5nID09PSBcImFib3V0OmJsYW5rXCIgJiYgZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb25Ib29rcy5vZ1dpbmRvdyRPcGVuLmNhbGwod2luZG93LCB1cmwsIHRhcmdldCwgZmVhdHVyZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBPcGVuIGV4dGVybmFsIGxpbmsgaW4gY3VycmVudCBsZWFmIHdoZW4gbWV0YSBrZXkgaXNuJ3QgYmVpbmcgaGVsZCBkb3duLlxuICAgICAgICAgICAgV2ViQnJvd3NlclZpZXcuc3Bhd25XZWJCcm93c2VyVmlldyh0cnVlLCB7IHVybDogdXJsU3RyaW5nIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgb251bmxvYWQoKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIG91ciBoYWNraW5lc3Mgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuICAgICAgICB3aW5kb3cub3BlbiA9IEZ1bmN0aW9uSG9va3Mub2dXaW5kb3ckT3BlbjtcbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQTJDOzs7QUNBcEMsSUFBTSxZQUFOLE1BQWdCO0FBQUEsRUFJbkIsWUFBWSxRQUFpQjtBQUY3QixTQUFR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
